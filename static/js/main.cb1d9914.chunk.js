(this.webpackJsonpasteroids=this.webpackJsonpasteroids||[]).push([[0],{220:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n,i,r=a(8),s=a(0),o=a.n(s),c=a(36),d=a.n(c),l=(a(220),a(379)),m=a(203),u=a(389),j=a(66),b=a(69),f=a.n(b),O=a(180),p="GET_ASTEROIDS",g="ERROR",h="SET_LOADING",x=a(88),y=a.n(x),v=a(27),D=a(48),S=a(358),_=a(394),Y=a(390),w=a(393),z=a(381),T=a(395);!function(e){e.YESTERDAY="yesterday",e.TODAY="today",e.TOMORROW="tomorrow"}(i||(i={}));var R=Object(l.a)({header:{paddingLeft:"10%",paddingRight:"10%",width:"80%",color:"#333"},headerTitle:(n={textAlign:"left",fontSize:72,paddingBottom:30},Object(D.a)(n,"@media (max-width:900px)",{fontSize:44,"-webkit-transition":"color 12s, font-size 2s","-moz-transition":"color 12s, fontSize 2s","-o-transition":"color 12s, fontSize 2s",transition:"color 12s, fontSize 2s"}),Object(D.a)(n,"@media (max-width:600px)",{fontSize:24,"-webkit-transition":"color 12s, font-size 2s","-moz-transition":"color 12s, fontSize 2s","-o-transition":"color 12s, fontSize 2s",transition:"color 12s, fontSize 2s"}),n),timeOptions:Object(D.a)({width:"100%",marginRight:20},"@media (max-width:800px)",{fontSize:14,marginRight:0,display:"flex",justifyContent:"space-between","-webkit-transition":"font-size 2s, display 2s, justifyContent 2s","-moz-transition":"fontSize 2s, display 2s, justifyContent 2s","-o-transition":"fontSize 2, display 2s, justifyContent 2ss",transition:"fontSize 2s, display 2s, justifyContent 2s"})}),A=function(e){var t=e.getAsteroids,a=e.setLoading,n=R(),o=Object(s.useState)(i.TODAY),c=Object(v.a)(o,2),d=c[0],l=c[1];return Object(s.useEffect)((function(){a(),t(d)}),[d]),Object(r.jsxs)("div",{className:n.header,children:[Object(r.jsx)(S.a,{className:n.headerTitle,children:"near_earth_objects"}),Object(r.jsxs)(w.a,{component:"fieldset",style:{width:"100%"},children:[Object(r.jsx)(T.a,{component:"legend",color:"secondary",children:"Select Day"}),Object(r.jsxs)(_.a,{className:n.timeOptions,"aria-label":"time",name:"time",value:d,row:!0,onChange:function(e){return Object.values(i).forEach((function(t){return e.target.value===t&&l(t)}))},children:[Object(r.jsx)(z.a,{classes:{label:n.timeOptions},value:i.YESTERDAY,control:Object(r.jsx)(Y.a,{}),label:i.YESTERDAY}),Object(r.jsx)(z.a,{classes:{label:n.timeOptions},value:i.TODAY,control:Object(r.jsx)(Y.a,{}),label:i.TODAY}),Object(r.jsx)(z.a,{classes:{label:n.timeOptions},value:i.TOMORROW,control:Object(r.jsx)(Y.a,{}),label:i.TOMORROW})]})]})]})},k="vPAwzv67PyeOjcjeRqkYC7fzC6S9GPASXfsIyiRO",C="https://api.nasa.gov",E=function(){return{type:h}},M=a(388),N=a(392),W=a(193),L=a(196),I=a(87),V=a(382),B=function(e){var t=e.data,a=Object(V.a)(),n=[a.palette.error.main,a.palette.primary.main];return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{style:{fontSize:16,textAlign:"center",marginBottom:10},children:"Potentially dangerous vs safe asteroids:"}),Object(r.jsxs)(N.a,{width:420,height:300,children:[Object(r.jsx)(W.a,{data:t,dataKey:"value",cx:200,cy:100,outerRadius:80,innerRadius:40,fill:"#8884d8",label:!0,children:t.map((function(e,t){return Object(r.jsx)(L.a,{fill:n[t]},"cell-".concat(t))}))}),Object(r.jsx)(I.a,{align:"right",iconType:"circle",layout:"vertical",verticalAlign:"middle"})]})]})},P=a(386),F=a(387),G=a(199),K=a(200),J=a(114),q=a(205),H={meters:{long:"meters",short:"m"},feet:{long:"feet",short:"ft"},miles:{long:"miles",short:"mi"}},X=Object(l.a)((function(e){return{unitsSelect:{padding:3,color:e.palette.secondary.light,borderColor:e.palette.secondary.light,borderRadius:4,"& option":{backgroundColor:e.palette.secondary.light}},unitsOption:{backgroundColor:e.palette.secondary.light}}})),$=function(e){var t=X(),a=e.data,n=Object(s.useState)(H.meters),i=Object(v.a)(n,2),o=i[0],c=i[1];return Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{style:{fontSize:16,textAlign:"center",marginBottom:10},children:["Diameter in"," ",Object(r.jsxs)("select",{className:t.unitsSelect,value:o.long,onChange:function(e){Object.values(H).forEach((function(t){return t.long==e.target.value&&c(t)}))},children:[Object(r.jsx)("option",{className:t.unitsOption,value:H.meters.long,children:H.meters.long}),Object(r.jsx)("option",{value:H.feet.long,children:H.feet.long}),Object(r.jsx)("option",{children:H.miles.long})]})]}),Object(r.jsxs)(P.a,{width:450,height:300,data:a,margin:{top:5,right:30,left:20,bottom:5},children:[Object(r.jsx)(F.a,{strokeDasharray:"3 3"}),Object(r.jsx)(G.a,{dataKey:"name"}),Object(r.jsx)(K.a,{unit:o.short}),Object(r.jsx)(J.a,{}),Object(r.jsx)(I.a,{}),Object(r.jsx)(q.a,{type:"monotone",dataKey:"".concat(o.long,".minValue"),stroke:"#534666",activeDot:{r:8}}),Object(r.jsx)(q.a,{type:"monotone",dataKey:"".concat(o.long,".maxValue"),stroke:"#138086"})]})]})},Q=Object(l.a)((function(e){return{chartsAndDayWrapper:{marginTop:80,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},chartsWrapper:Object(D.a)({width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},"@media (max-width:900px)",{flexDirection:"column"}),day:{color:e.palette.primary.main,fontSize:20,fontWeight:400}}})),U=function(e){var t=e.dangerousData,a=e.diameterData,n=e.day,i=Q();return Object(r.jsxs)("div",{className:i.chartsAndDayWrapper,children:[Object(r.jsx)("p",{className:i.day,children:n}),Object(r.jsxs)("div",{className:i.chartsWrapper,children:[Object(r.jsx)(B,{data:t}),Object(r.jsx)($,{data:a})]})]})},Z=a.p+"static/media/asteroid.6d4c5c0e.png",ee=Object(l.a)({asteroid:{marginTop:100,width:200,height:200,animation:"$rotate 1s linear infinite",opacity:.9},"@keyframes rotate":{"0%":{transform:"rotate(0deg)",transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}}}),te=function(){var e=ee();return Object(r.jsx)("img",{className:e.asteroid,src:Z,alt:"Loading"})},ae=Object(l.a)({contentWrapper:{width:"95%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:"#444",marginBottom:100},totalCount:{fontSize:24,width:"90%"}}),ne=Object(j.b)((function(e){return{asteroids:e.asteroids.asteroids,day:e.asteroids.day,loading:e.asteroids.loading,dangerousData:e.asteroids.dangerousData,diameterData:e.asteroids.diameterData}}),{setLoading:E})((function(e){var t=e.dangerousData,a=e.diameterData,n=e.day,i=e.loading,s=ae();return Object(r.jsx)(M.a,{className:s.contentWrapper,children:i?Object(r.jsx)(te,{}):Object(r.jsx)(U,{dangerousData:t,diameterData:a,day:n})})})),ie=Object(l.a)({app:{backgroundColor:"#eee",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"}}),re=Object(j.b)((function(e){return{loading:e.asteroids.loading}}),{getAsteroids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.TODAY;return function(){var t=Object(O.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="",t.t0=e,t.next=t.t0===i.TODAY?4:t.t0===i.YESTERDAY?6:t.t0===i.TOMORROW?8:10;break;case 4:return n=y()().format("YYYY-MM-DD"),t.abrupt("break",12);case 6:return n=y()().subtract(1,"days").format("YYYY-MM-DD"),t.abrupt("break",12);case 8:return n=y()().add(1,"days").format("YYYY-MM-DD"),t.abrupt("break",12);case 10:return n=y()().format("YYYY-MM-DD"),t.abrupt("break",12);case 12:return console.log("fetching asteroids"),t.prev=13,t.next=16,fetch("".concat(C,"/neo/rest/v1/feed?start_date=").concat(n,"&end_date=").concat(n,"&api_key=").concat(k),{method:"GET"});case 16:return r=t.sent,t.next=19,r.json();case 19:s=t.sent,console.log(s.near_earth_objects[n]),a({type:p,payload:{data:s.near_earth_objects[n],day:n}}),t.next=28;break;case 24:t.prev=24,t.t1=t.catch(13),console.log(t.t1),a({type:g,payload:t.t1});case 28:case"end":return t.stop()}}),t,null,[[13,24]])})));return function(e){return t.apply(this,arguments)}}()},setLoading:E})((function(e){var t=e.getAsteroids,a=e.setLoading;Object(s.useEffect)((function(){t()}),[t]);var n=Object(m.a)({palette:{primary:{main:"#138086"},secondary:{main:"#534666"},error:{main:"#CD7672"}}}),i=ie();return Object(r.jsx)(u.a,{theme:n,children:Object(r.jsxs)("div",{className:i.app,children:[Object(r.jsx)(A,{getAsteroids:t,setLoading:a}),Object(r.jsx)(ne,{})]})})})),se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,396)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))},oe=a(45),ce=a(201),de=a(202),le=a(56),me={asteroids:[],dangerousData:[],diameterData:[],error:"",loading:!0,day:""},ue=function(e){var t=0,a=0,n=[];return e.forEach((function(e,i){n.push({name:(i+1).toString(),meters:{minValue:e.estimated_diameter.meters.estimated_diameter_min,maxValue:e.estimated_diameter.meters.estimated_diameter_max},feet:{minValue:e.estimated_diameter.feet.estimated_diameter_min,maxValue:e.estimated_diameter.feet.estimated_diameter_max},miles:{minValue:e.estimated_diameter.miles.estimated_diameter_min,maxValue:e.estimated_diameter.miles.estimated_diameter_max}}),e.is_potentially_hazardous_asteroid?t+=1:a+=1})),{diameterData:n,dangerousData:[{name:"dangerous",value:t},{name:"safe",value:a}]}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var a=ue(t.payload.data),n=a.diameterData,i=a.dangerousData;return Object(le.a)(Object(le.a)({},e),{},{asteroids:t.payload.data,dangerousData:i,diameterData:n,day:t.payload.day,loading:!1});case g:return Object(le.a)(Object(le.a)({},e),{},{error:t.payload});case h:return Object(le.a)(Object(le.a)({},e),{},{loading:!0});default:return e}},be=Object(oe.combineReducers)({asteroids:je}),fe=[de.a],Oe=Object(oe.createStore)(be,{},Object(ce.composeWithDevTools)(oe.applyMiddleware.apply(void 0,fe)));d.a.render(Object(r.jsx)(j.a,{store:Oe,children:Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(re,{})})}),document.getElementById("root")),se()}},[[357,1,2]]]);
//# sourceMappingURL=main.cb1d9914.chunk.js.map